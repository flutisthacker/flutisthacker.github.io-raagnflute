<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  </head>
<body>
    <style>
        body{
            display: flex;
            flex-direction: column;
        }
 .btn{
    width:70px;
    height:30px;
    margin:10px;
}
.border-circle{
    border-radius: 100%;
    width:50px;
    height:50px;
}

.mr-4{
    margin-right: 8px;
}
.btn-pridark{
    background: linear-gradient(0deg,#16161d 33% ,#16161d 33%, #0b5ed7 33% );
    transform: rotate(90deg);
}
.mflute{
    position: relative;
margin:50px;
}
.mflute > #pinkyL{
    position: absolute;
    left:190px;
    top:-30px;
    border: 2px solid red;
}
.mflute > #pinkyR{
    position: absolute;
    left:440px;
    top:15px;
    border: red;
}
.mflute > #thumb1{
    position: absolute;
    left:45px;
    top:70px;
    border: red;
}
.mflute > #thumb2{
    position: absolute;
    left:125px;
    top:70px;
    border: red;
}
    </style>
    <div class="row">
            <div class="col-lg-6">
                <textarea name="" id="text" cols="80" rows="20"></textarea>

            </div>
            <div class="col-lg-6">
                <button value="c" class="btn btn-sm btn-primary">सा</button>
                <button value="c#" class="btn btn-sm btn-primary">रे|</button>
                <button value="d" class="btn btn-sm btn-primary">रे</button>
                <button value="d#" class="btn btn-sm btn-primary">ग|</button>
                <button value="e" class="btn btn-sm btn-primary">ग</button>
                <button value="f" class="btn btn-sm btn-primary">म</button>
                <button value="f#" class="btn btn-sm btn-primary">म|</button>
                <button value="g" class="btn btn-sm btn-primary">प</button>
                <button value="g#" class="btn btn-sm btn-primary">ध|</button>
                <button value="a" class="btn btn-sm btn-primary">ध</button>
                <button value="a#" class="btn btn-sm btn-primary">नि|</button>
                <button value="b" class="btn btn-sm btn-primary">नि</button>
                <button value="-" class="btn btn-sm btn-primary">-</button>
                <button value=" " class="btn btn-sm btn-primary">space</button>
                <input type="checkbox" value="high" name="high" id="range">high
                <button value="clear" class="btn btn-sm btn-primary">clear</button>
                <select name="" id="keyrange"></select>
            </div>
    </div>

    <div class="row col-lg-6 bg-warning">
        <button class="btn btn-primary border-circle mr-4"></button>
        <button class="btn btn-basuri border-circle"></button>
        <button class="btn btn-basuri border-circle"></button>
        <button class="btn btn-basuri border-circle"></button>
        <button class="btn btn-basuri border-circle"></button>
        <button class="btn btn-basuri border-circle"></button>
        <button class="btn btn-basuri border-circle mr-2"></button>
        <button class="btn btn-primary border-circle "></button>
    </div>
    <div class="row bg-info p-3 mflute">
    <button id="pinkyL" class="btn btn-flute btn-primary border-circle"></button>
    <button id="indexL" class="btn btn-flute btn-primary border-circle mr-4"></button>
    <button id="middleL" class="btn btn-flute btn-primary border-circle"></button>
    <button id="ringL" class="btn btn-flute btn-primary border-circle"></button>
    <button id="indexR" class="btn btn-flute btn-primary border-circle mr-2"></button>
    <button id="middleR" class="btn btn-flute btn-primary border-circle "></button>
    <button id="ringR" class="btn btn-flute btn-primary border-circle "></button>
        <button id="thumb1" class="btn btn-flute btn-primary border-circle"></button>
        <button id="thumb2" class="btn btn-flute btn-primary border-circle"></button>
        <button id="pinkyR" class="btn btn-flute btn-primary border-circle "></button>
    </div>

</div>


<script>
    document.querySelectorAll(".btn").forEach(btn=>{
        btn.addEventListener("click",e=>{
            var muval=btn.value
            if(muval=="clear"){
                document.querySelector("#text").innerHTML=''
                muval=''
            }
            if(document.querySelector("#range").checked){
                muval=muval.toUpperCase()
            }
            else{
                muval=muval.toLowerCase()
            }
            document.querySelector("#text").innerHTML+= muval
            btnbasuri=document.querySelectorAll('.btn-basuri')
            btnbasuri.forEach((abtn,val)=>{
               mykey=Object.keys(key[muval])
               if(key[muval][mykey[val]]=="close"){
                abtn.classList.add("btn-dark")
                abtn.classList.remove("btn-pridark")
                    abtn.classList.remove("btn-primary")
                }
               if(key[muval][mykey[val]]=="half"){
                abtn.classList.add("btn-pridark")
                abtn.classList.remove("btn-primary")
                abtn.classList.remove("btn-dark")
                }
               if(key[muval][mykey[val]]=="open"){
                abtn.classList.add("btn-primary")
                abtn.classList.remove("btn-pridark")
                abtn.classList.remove("btn-dark")
                }
            })
        })
    })
key={
"c":{
    "1st":"close",
    "2nd":"close",
    "3rd":"close",
    "4th":"open",
    "5th":"open",
    "6th":"open",
},
"c#":{
    "1st":"close",
    "2nd":"close",
    "3rd":"half",
    "4th":"open",
    "5th":"open",
    "6th":"open",
},
"d":{
    "1st":"close",
    "2nd":"close",
    "3rd":"open",
    "4th":"open",
    "5th":"open",
    "6th":"open",
},
"d#":{
    "1st":"close",
    "2nd":"half",
    "3rd":"open",
    "4th":"open",
    "5th":"open",
    "6th":"open",
},
"e":{
    "1st":"close",
    "2nd":"open",
    "3rd":"open",
    "4th":"open",
    "5th":"open",
    "6th":"open",
},
"f":{
    "1st":"half",
    "2nd":"open",
    "3rd":"open",
    "4th":"open",
    "5th":"open",
    "6th":"open",
},
"f#":{
    "1st":"open",
    "2nd":"open",
    "3rd":"open",
    "4th":"open",
    "5th":"open",
    "6th":"open",
},
"g":{
    "1st":"close",
    "2nd":"close",
    "3rd":"close",
    "4th":"close",
    "5th":"close",
    "6th":"close",
},
"G":{
    "1st":"open",
    "2nd":"close",
    "3rd":"close",
    "4th":"close",
    "5th":"close",
    "6th":"close",
},
"g#":{
    "1st":"close",
    "2nd":"close",
    "3rd":"close",
    "4th":"close",
    "5th":"close",
    "6th":"half",
},
"a":{
    "1st":"close",
    "2nd":"close",
    "3rd":"close",
    "4th":"close",
    "5th":"close",
    "6th":"open",
},
"a#":{
    "1st":"close",
    "2nd":"close",
    "3rd":"close",
    "4th":"close",
    "5th":"half",
    "6th":"open",
},
"b":{
    "1st":"close",
    "2nd":"close",
    "3rd":"close",
    "4th":"close",
    "5th":"open",
    "6th":"open",
}
}

key2={
    "C4":{
        "indexL":"close",
        "middleL":"close",
        "ringL":"close",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"open",
        "pinkyR":"close",
        "indexR":"close",
        "middleR":"close",
        "ringR":"close",
    },
    "D4":{
        "indexL":"close",
        "middleL":"close",
        "ringL":"close",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"open",
        "pinkyR":"open",
        "indexR":"close",
        "middleR":"close",
        "ringR":"close",
    },
    "C#4":{
        "indexL":"close",
        "middleL":"close",
        "ringL":"close",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"open",
        "pinkyR":"open",
        "indexR":"close",
        "middleR":"close",
        "ringR":"close",
    },
    "D#4":{
        "indexL":"close",
        "middleL":"close",
        "ringL":"close",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"open",
        "pinkyR":"close",
        "indexR":"close",
        "middleR":"close",
        "ringR":"close",
    },
    "E4":{
        "indexL":"close",
        "middleL":"close",
        "ringL":"close",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"open",
        "pinkyR":"open",
        "indexR":"close",
        "middleR":"close",
        "ringR":"open",
    },

    "F4":{
        "indexL":"close",
        "middleL":"close",
        "ringL":"close",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"open",
        "pinkyR":"open",
        "indexR":"close",
        "middleR":"open",
        "ringR":"open",
    },
    "F#4":{
        "indexL":"close",
        "middleL":"close",
        "ringL":"close",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"open",
        "pinkyR":"open",
        "indexR":"open",
        "middleR":"open",
        "ringR":"close",
    },
    "G4":{
        "indexL":"close",
        "middleL":"close",
        "ringL":"close",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"open",
        "pinkyR":"open",
        "indexR":"open",
        "middleR":"open",
        "ringR":"open",
    },
    "G#4":{
        "indexL":"close",
        "middleL":"close",
        "ringL":"close",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"close",
        "pinkyR":"open",
        "indexR":"open",
        "middleR":"open",
        "ringR":"open",
    },
    "A4":{
        "indexL":"close",
        "middleL":"close",
        "ringL":"open",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"open",
        "pinkyR":"open",
        "indexR":"open",
        "middleR":"open",
        "ringR":"open",
    },
    "A#4":{
        "indexL":"close",
        "middleL":"open",
        "ringL":"open",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"open",
        "pinkyR":"open",
        "indexR":"close",
        "middleR":"open",
        "ringR":"open",
    },
    "B4":{
        "indexL":"close",
        "middleL":"open",
        "ringL":"open",
        "thumb1":"open",
        "thumb2":"close",
        "pinkyL":"open",
        "pinkyR":"open",
        "indexR":"open",
        "middleR":"open",
        "ringR":"open",
    },
    "C5":{
        "indexL":"close",
        "middleL":"open",
        "ringL":"open",
        "thumb1":"open",
        "thumb2":"open",
        "pinkyL":"open",
        "pinkyR":"close",
        "indexR":"open",
        "middleR":"open",
        "ringR":"open",
    }
}
Object.keys(key2).forEach(key=>{
        document.querySelector("#keyrange").innerHTML += `<option value="${key}">${key}</option>`
    })

    document.querySelector("#keyrange").addEventListener("change",e=>{
        merokey=document.querySelector("#keyrange").value
        document.querySelectorAll(".btn-flute").forEach((btn,val)=>{
            var mykkey=Object.keys(key2[merokey])
            console.log(key2[merokey][mykkey[val]])
                       if(key2[merokey][mykkey[val]]=="close"){
                        document.getElementById(mykkey[val]).classList.add("btn-dark")
                        document.getElementById(mykkey[val]).classList.remove("btn-pridark")
                            document.getElementById(mykkey[val]).classList.remove("btn-primary")
                        }
        
                       if(key2[merokey][mykkey[val]]=="open"){
                        document.getElementById(mykkey[val]).classList.add("btn-primary")
                        document.getElementById(mykkey[val]).classList.remove("btn-pridark")
                        document.getElementById(mykkey[val]).classList.remove("btn-dark")
                        }
        })
    })
</script>
</body>
</html>